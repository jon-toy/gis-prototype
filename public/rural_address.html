<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <title>Apache County Rural Address Viewer</title>

  <!-- Favicon -->
  <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#949a9c">
  <meta name="msapplication-TileColor" content="#2b5797">
  <meta name="theme-color" content="#343a40">

  <!-- Bootstrap core CSS-->
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
  
  <!-- Fontawesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.12/css/all.css" integrity="sha384-G0fIWCsCzJIMAVNQPfjH08cyYaUtMwjJwqiRKxxE/rx96Uroj1BtIQ6MLJuheaO9" crossorigin="anonymous">

  <!-- Stylesheet -->
  <link rel="stylesheet" href="edit_history.css">

  <!-- Date Range Picker -->
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
</head>
<body class="bg-light">

  <!-- Loading Pane -->
  <div class="loading" style="display: none;">
    <div id="loading-inner" class="text-center">
      <a href="https://www.co.apache.az.us/" target="_blank"><img src="/logo.png" height="100" width="100" class="d-inline-block align-top" alt=""></a>
      <br>
      <br>
      <span class="text-dark">Apache County is the 6th largest county in the US, encompassing over 11,218 square miles. <br>We appreciate your patience as the parcels load.</span>
      <br>
      <br>
      <i class="fa fa-spinner fa-spin fa-2x"></i>
      <br>
      <small id="loading-message-status" class="text-dark">&nbsp;</small>
      <br>
      <br>
      <br>
      <br>
      <small>
          <small>
              For an optimal viewing experience, please use a modern browser such as <br> 
              <a href="https://www.google.com/chrome/" target="_blank">Google Chrome</a>, 
              <a href="https://www.mozilla.org/en-US/firefox/new/" target="_blank">Mozilla Firefox</a>, 
              <a href="https://support.apple.com/downloads/safari" target="_blank">Safari</a>, or 
              <a href="https://www.microsoft.com/en-us/windows/microsoft-edge" target="_blank">Microsoft Edge.</a>
            </small>
      </small>
    </div>
  </div>

  <!-- Logo -->
  <div id="logo-container">
    <a href="https://www.co.apache.az.us/" target="_blank"><img src="/logo.png" height="100" width="100" class="d-inline-block align-top" alt=""></a>
  </div>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <a class="navbar-brand" href="/index.html" id="navbar-title">
      Apache County Rural Address Viewer
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <div class="navbar-content">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a class="nav-link" href="#" data-toggle="modal"  data-target="#disclaimerModal">Disclaimer</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Jump To...
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
              <a class="dropdown-item" href="#" data-toggle="modal" data-target="#latLonModal">Lat/Lon</a>
              <a class="dropdown-item" href="javascript:goToUserLatLon();">My Location</a>
            </div>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Zones
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
              <a class="dropdown-item" href="#">Select Zone</a>
              <a class="dropdown-item" href="/rural_address.html?zone=south">South</a>
              <a class="dropdown-item" href="/rural_address.html?zone=west">West</a>
              <a class="dropdown-item" href="/rural_address.html?zone=concho">Concho (WIP)</a>
            </div>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#"data-toggle="modal"  data-target="#feedbackModal">Submit Feedback</a>
          </li>
        </ul>
        <form class="search-form form-inline my-2 my-lg-0">
        <a class="btn btn-outline-light my-2 my-sm-0" href="#" data-toggle="modal" data-target="#searchModal">Search</a>
        </form>
      </div>
    </div>
  </nav>

	<div class="py-2 h-100 d-flex flex-column bg-light text-dark">
      <!-- Map -->
      <div id="map"></div>
      <footer class="footer d-flex mt-auto p-2 align-items-center justify-content-center">
      <span>
        <small id="editHistoryLastUpdated"></small>
      </span>
      <span id="parcel-num-display">&nbsp;</span>
      <span id="latlon-display">&nbsp;</span>
      </footer>
	</div>	
	
  <!-- Modals -->
  <!-- Parcels -->
	<div class="modal fade" id="parcelModal" tabindex="-1" role="dialog" aria-labelledby="parcelModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="parcelModalLabel">Parcel Info: </h5>
          <button class="close" type="button" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true"><i class="fa fa-times"></i></span>
          </button>
        </div>
        <div class="modal-body">
    <div id="parcel_content"></div>
    </div>
        <div class="modal-footer">
          <a href="#" id="button-link-fire-truck-dispatch" class="btn btn-outline-danger">Send Link</a>
          <a href="#" id="button-link-parcel-feedback" class="btn btn-outline-secondary">Submit Feedback</a>
          <button class="btn btn-primary" type="button" data-dismiss="modal">Done</button>
        </div>
      </div>
    </div>
  </div>

   <!-- Transportation-->
   <div class="modal fade" id="transportationModal" tabindex="-1" role="dialog" aria-labelledby="transportationModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="transportationModalLabel">Road Info: </h5>
          <button class="close" type="button" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true"><i class="fa fa-times"></i></span>
          </button>
        </div>
        <div class="modal-body">
    <div id="transportation_content"></div>
    </div>
        <div class="modal-footer">
          <button class="btn btn-primary" type="button" data-dismiss="modal">Done</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Confirm -->
  <div class="modal fade" id="confirmZoneLoadModal" tabindex="-1" role="dialog" aria-labelledby="confirmZoneLoadModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="confirmZoneLoadModalLabel">Confirm Zone Load</h5>
            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true"><i class="fa fa-times"></i></span>
            </button>
          </div>
          <div class="modal-body">
            The parcel you are trying to view exists outside of your current zone. Click "Load Zone" to proceed.
            <br><br>
            <strong>Current Zone</strong>: <span id="confirmZoneModalCurrentZone"></span><br>
            <strong>New Zone</strong>: <span id="confirmZoneModalNewZone"></span>
          </div>
          <div class="modal-footer">
            <button id="confirmZoneLoadModalButton" class="btn btn-primary" type="button" data-dismiss="modal">Load Zone</button>
            <button class="btn btn-outline-secondary" type="button" data-dismiss="modal">Cancel</button>
          </div>
        </div>
      </div>
    </div>

  <!-- Disclaimer -->
  <div class="modal fade" id="disclaimerModal" tabindex="-1" role="dialog" aria-labelledby="disclaimerModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="disclaimerModalLabel">Disclaimer</h5>
            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true"><i class="fa fa-times"></i></span>
            </button>
          </div>
          <div class="modal-body">
              GIS information is provided on this Page as a public resource for general information purposes only. It is used to locate, identify and inventory parcels of land 
              in Apache County for appraisal and taxation purposes only and is NOT to be construed or used as a “legal description.” Map and parcel information is believed to 
              be accurate but accuracy is not guaranteed. No portion of the information should be considered to be, or used as, a legal document. Pursuant to A.R.S. 37-178(c), 
              Apache County shares such data for purpose of convenience only and “is not liable for errors, inaccuracies or omissions and shall be held harmless from and against 
              all damage, loss or liability arising from any use of geospatial data that is shared.” The information is provided subject to the express condition that the user knowingly 
              waives any and all claims for damages against Apache County that may arise from the use of this data. Information provided on this Page should be reviewed and 
              approved by an attorney or other qualified professional prior to its use for any purpose with potential legal consequences.
              <br>
              <br>
              Information provided in the County’s GIS is to the Resource-Grade standard, and is not intended for use in construction, survey, or legal descriptions. As with 
              any compilation of historic data of varying reliability, and overlaying the data with different technologies such as satellite imagery, minor deviations can and do occur.
              <small>Copyright © Apache County Arizona. </small>
          </div>
          <div class="modal-footer">
            <button class="btn btn-primary" type="button" data-dismiss="modal">Done</button>
          </div>
        </div>
      </div>
    </div>
  
  <!-- Lat Lon Modal -->
	<div class="modal fade" id="latLonModal" tabindex="-1" role="dialog" aria-labelledby="latLonModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="latLonModalLabel">Jump to Lat Lon</h5>
            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true"><i class="fa fa-times"></i></span>
            </button>
          </div>
          <div class="modal-body">
            <div class="row p-2"><div class="col-3"><b>Latitude</b></div><div class="col-9"><input type="number" id="lat" value="33.8301"></div></div>
            <div class="row p-2"><div class="col-3"><b>Longitude</b></div><div class="col-9"><input type="number" id="lon" value="-109.1263"></div></div>
            <div class="row p-2"><div class="col-3"><b>View Parcel</b></div><div class="col-9"><input type="checkbox" id="view-parcel-for-lat-lon"></div></div>
          </div>
          <div class="modal-footer">
            <button class="btn btn-primary" type="button" data-dismiss="modal" onclick="goToLatLon();">Done</button>
          </div>
        </div>
      </div>
    </div>

  <!-- Feedback Modal -->
	<div class="modal fade" id="feedbackModal" tabindex="-1" role="dialog" aria-labelledby="feedbackModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="feedbackModalLabel">Submit Feedback</h5>
            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true"><i class="fa fa-times"></i></span>
            </button>
          </div>
          <form role="form" id="submit-feedback-form" method="post" action="/submit-feedback">
            <div class="modal-body">
              <div class="messages"></div>
              <div class="form-group required">
                  <label for="feedback-feedback" class="control-label">Name</label>
                  <input class="form-control" name="feedback-name" required></input>
              </div>
              <div class="form-group required">
                  <label for="feedback-feedback" class="control-label">Email</label>
                  <input type="email" class="form-control" name="feedback-email" required></input>
              </div>
              <div class="form-group required">
                <label for="feedback-feedback" class="control-label">Feedback</label>
                <textarea class="form-control" name="feedback-feedback" rows="5" required></textarea>
              </div>
              <div class="form-group">
                  <div class="g-recaptcha" data-sitekey="6LcwGlUUAAAAAIRdD6Wzk-Kgr4qhaxwUN67JOC01" data-callback="verifyRecaptchaCallback" data-expired-callback="expiredRecaptchaCallback"></div>
                  <input class="form-control d-none" data-recaptcha="true" required data-error="Please complete the Captcha">
                  <div class="help-block with-errors"></div>
              </div>
            </div>
            <div class="modal-footer">
              <button class="btn btn-primary" type="submit">Submit</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Search Modal -->
  <div class="modal fade" id="searchModal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="searchModalLabel">Search</h5>
            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true"><i class="fa fa-times"></i></span>
            </button>
          </div>
          <div class="modal-body">
              <form role="form" onsubmit="doSearch();">
                <div class="form-group">
                    <label for="searchBy" class="control-label">Search By</label>
                    <select class="form-control" id="searchBy">
                        <option value="apn">APN</option>
                        <option value="situs">Situs</option>
                        <option value="road">Road Number</option>
                        <option value="road_name">Road Name</option>
                        <option value="owner">Owner</option>
                        <option value="date">Edit Date</option>
                      </select>
                </div>
                <div class="form-group">
                    <label for="searchValue" class="control-label" id="searchValueLabel">Search Contains</label>
                    <div id="searchValueContainer"><input class="form-control" id="searchValue"/></div>
                </div>
              </form>
              <div>
                  <label for="resultsTable" class="control-label">Results (<span id="results_total"></span>)</label>
                  <table class="table table-hover table-striped" id="resultsTable">
                      <thead>
                        <tr>
                          <th width="20%" scope="col">APN</th>
                          <th width="15%" scope="col">Situs</th>
                          <th scope="col">Road Number</th>
                          <th width="20%" scope="col">Road Name</th>
                          <th scope="col">Owner</th>
                          <th scope="col"></th>
                        </tr>
                      </thead>
                      <tbody id="resultsTableBody">
                        <!-- Filled in by JS -->
                      </tbody>
                    </table>
              </div>
              <div>
                  <a href="#" id="search_previous">Previous 20</a>
                  <a href="#" class="float-right" id="search_next">Next 20</a>
              </div>
          </div>
          <div class="modal-footer">
            <button class="btn btn-primary" type="button" data-dismiss="modal">Done</button>
          </div>
        </div>
      </div>
    </div>

  <!-- Rural Address Parcel Feedback Modal -->
	<div class="modal fade" id="parcelFeedbackModal" tabindex="-1" role="dialog" aria-labelledby="parcelFeedbackModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="parcelFeedbackModalLabel">Submit Feedback For Parcel <span id="parcelFeedbackModalLabelTitle"></span></h5>
          <button class="close" type="button" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true"><i class="fa fa-times"></i></span>
          </button>
        </div>
        <form role="form" id="submit-parcel-feedback-form">
          <div class="modal-body">
            <div class="messages"></div>
            <div class="form-group required">
                <label for="feedback-feedback" class="control-label">Name</label>
                <input class="form-control" id="parcel-feedback-name" required></input>
            </div>
            <div class="form-group required">
                <label for="feedback-feedback" class="control-label">Email</label>
                <input type="email" class="form-control" id="parcel-feedback-email" required></input>
            </div>
            <div class="form-group">
              <label for="feedback-parcel-info" class="control-label">Parcel Information</label>
              <div id="feedback-parcel-info"></div>
            </div>
            <div class="form-group required">
              <label for="feedback-feedback" class="control-label">Feedback</label>
              <textarea class="form-control" id="parcel-feedback-feedback" rows="5" required></textarea>
            </div>
          </div>
          <div class="modal-footer">
            <button class="btn btn-primary" id="submit-parcel-feedback-button">Submit</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Rural Address Fire Truck Dispatch Feedback Modal -->
	<div class="modal fade" id="fireTruckDispatchModal" tabindex="-1" role="dialog" aria-labelledby="fireTruckDispatchModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="fireTruckDispatchModalLabel">Send to Fire Truck</h5>
          <button class="close" type="button" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true"><i class="fa fa-times"></i></span>
          </button>
        </div>
        <form role="form" id="fire-truck-dispatch-form">
          <div class="modal-body">
            <label class="control-label">Select recipient(s) for an email notification to a <b>Fire Department</b> regarding this Parcel.</label>
            <div class="form-check">
              <input class="form-check-input fire-truck-dispatch-choices" name="fire-truck-dispatch-choices" type="checkbox" value="dispatch" id="fire-truck-dispatch-choices-dispatch">
              <label class="form-check-label" for="fire-truck-dispatch-choices-dispatch">
                Apache County Dispatch
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input fire-truck-dispatch-choices" name="fire-truck-dispatch-choices" type="checkbox" value="alpine" id="fire-truck-dispatch-choices-alpine">
              <label class="form-check-label" for="fire-truck-dispatch-choices-alpine">
                Alpine Fire Department
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input fire-truck-dispatch-choices" name="fire-truck-dispatch-choices" type="checkbox" value="eagar" id="fire-truck-dispatch-choices-eagar">
              <label class="form-check-label" for="fire-truck-dispatch-choices-eagar">
                Eagar Fire Department
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input fire-truck-dispatch-choices" name="fire-truck-dispatch-choices" type="checkbox" value="vernon" id="fire-truck-dispatch-choices-vernon">
              <label class="form-check-label" for="fire-truck-dispatch-choices-vernon">
                Vernon Fire Department
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input fire-truck-dispatch-choices" name="fire-truck-dispatch-choices" type="checkbox" value="dev" id="fire-truck-dispatch-choices-development">
              <label class="form-check-label" for="fire-truck-dispatch-choices-development">
                [TEST] Development
              </label>
            </div>
          </div>
          <div class="modal-footer">
            <button class="btn btn-primary" id="fire-truck-dispatch-button">Submit</button>
          </div>
        </form>
      </div>
    </div>
  </div>

</body>	
	<!-- JQuery -->
	<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/4.2.2/jquery.form.min.js" integrity="sha384-FzT3vTVGXqf7wRfy8k4BiyzvbNfeYjK+frTVqZeNDFl8woCbF0CYG6g2fMEFFo/i" crossorigin="anonymous"></script>
   
  <!-- Date Range Picker -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>

	<!-- Bootstrap core JS -->
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
  
  <!-- LZ String for Compression -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lz-string/1.4.4/lz-string.min.js" integrity="sha256-nRoO8HoupfqozUr7YKBRgHXmdx40Hl/04OSBzv7e7L8=" crossorigin="anonymous"></script>

  <!-- Distance Tool External -->
  <script src="https://cdn.jsdelivr.net/npm/measuretool-googlemaps-v3/lib/MeasureTool.min.js"></script>

  <!-- Modules -->
    <!-- Globals -->
    <script src="/render/modules/globals.js"></script>
    
    <!-- Helper -->
    <script src="/render/modules/helper.js"></script>

    <!-- Distance Tool -->
    <script src="/render/modules/measure_tool.js"></script>

    <!-- Feedback Modal -->
    <script src="/render/modules/feedback_modal.js"></script>

    <!-- Fire/Con -->
    <script src="/render/modules/fire_con.js"></script>

    <!-- Map -->
    <script src="/render/modules/map.js"></script>

    <!-- RA Search -->
    <script src="/render/modules/rural_address_search.js"></script>
  <!-- End Modules-->

  <!-- Rural Address JS -->
  <script src="/render/ruraladdress/ruraladdress_zone.js"></script>
  
  <!-- Google Maps -->
	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD38DbmmFvH9emgUV6sTfhrrk7JpMShEsI&callback=initMetaData"
  async defer></script>
  
  <!-- Recaptcha -->
  <script src='https://www.google.com/recaptcha/api.js' async defer></script>
</html>
